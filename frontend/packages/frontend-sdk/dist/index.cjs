"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const n=require("react");function g(e){return n.useMemo(()=>window.Hevno.services.registry.resolve(e),[e])}function f(e,i){const s=g("bus");n.useEffect(()=>{const o=s.on(e,i);return()=>o()},[s,e,i])}function d(e,i={}){const{immediate:s=!0}=i,[o,c]=n.useState({data:null,isLoading:s,error:null}),a=n.useCallback(async(...l)=>{c(r=>({...r,isLoading:!0,error:null}));try{const r=await e(...l);return c(u=>({...u,data:r,isLoading:!1})),r}catch(r){const u=r instanceof Error?r:new Error(String(r));throw c(v=>({...v,error:u,isLoading:!1,data:null})),u}},[e]);return n.useEffect(()=>{s&&a()},[a,s]),{...o,execute:a}}function b(e){window.__HEVNO_PENDING_PLUGIN__=e}const t=()=>window.Hevno,w={get api(){var e;return(e=t())==null?void 0:e.services.api},get bus(){var e;return(e=t())==null?void 0:e.services.bus},get hooks(){var e;return(e=t())==null?void 0:e.services.hooks},get registry(){var e;return(e=t())==null?void 0:e.services.registry},get plugins(){var e;return(e=t())==null?void 0:e.services.plugins}};exports.definePlugin=b;exports.services=w;exports.useApi=d;exports.useEvent=f;exports.useService=g;
